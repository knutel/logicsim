import { Button, VerticalBox, HorizontalBox } from "std-widgets.slint";
import { GraphView, NodeData, ConnectionData } from "graph.slint";

export component MainWindow inherits Window {
    title: "LogicSim";
    width: 800px;
    height: 600px;
    
    // Expose graph data properties with default values
    in property <[NodeData]> nodes: [];
    in property <[ConnectionData]> connections: [];
    in property <[string]> selected-nodes: [];
    
    // Callback for handling graph clicks
    callback graph-clicked(float, float);
    
    
    VerticalBox {
        spacing: 10px;
        padding: 10px;
        
        // Title section
        HorizontalBox {
            alignment: center;
            height: 50px;
            
            Text {
                text: "LogicSim - Logic Circuit Simulator";
                font-size: 18px;
                horizontal-alignment: center;
                vertical-alignment: center;
            }
        }
        
        // Main graph view
        GraphView {
            graph-width: 760px;
            graph-height: 480px;
            nodes: root.nodes;
            connections: root.connections;
            selected-nodes: root.selected-nodes;
            
            clicked(x, y) => {
                root.graph-clicked(x, y);
            }
        }
        
        // Control buttons
        HorizontalBox {
            alignment: center;
            spacing: 10px;
            height: 40px;
            
            Button {
                text: "Reset";
                width: 80px;
            }
            
            Button {
                text: "Simulate";
                width: 80px;
            }
            
            Button {
                text: "Exit";
                width: 80px;
            }
        }
    }
}